{"remainingRequest":"/Users/tamdx/github/medlatec/gateway/node_modules/thread-loader/dist/cjs.js??ref--9-2!/Users/tamdx/github/medlatec/gateway/node_modules/ts-loader/index.js??ref--9-3!/Users/tamdx/github/medlatec/gateway/node_modules/eslint-loader/dist/cjs.js!/Users/tamdx/github/medlatec/gateway/src/main/webapp/app/admin/tracker/tracker.component.ts","dependencies":[{"path":"/Users/tamdx/github/medlatec/gateway/src/main/webapp/app/admin/tracker/tracker.component.ts","mtime":1576592214510},{"path":"/Users/tamdx/github/medlatec/gateway/node_modules/angular2-template-loader/index.js","mtime":1486570058000},{"path":"/Users/tamdx/github/medlatec/gateway/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tamdx/github/medlatec/gateway/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tamdx/github/medlatec/gateway/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/tamdx/github/medlatec/gateway/node_modules/eslint-loader/dist/cjs.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tICJ0c2xpYiI7CnZhciBfYTsKaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7CmltcG9ydCB7IEpoaVRyYWNrZXJTZXJ2aWNlIH0gZnJvbSAnYXBwL2NvcmUvdHJhY2tlci90cmFja2VyLnNlcnZpY2UnOwpsZXQgSmhpVHJhY2tlckNvbXBvbmVudCA9IGNsYXNzIEpoaVRyYWNrZXJDb21wb25lbnQgewogICAgY29uc3RydWN0b3IodHJhY2tlclNlcnZpY2UpIHsKICAgICAgICB0aGlzLnRyYWNrZXJTZXJ2aWNlID0gdHJhY2tlclNlcnZpY2U7CiAgICAgICAgdGhpcy5hY3Rpdml0aWVzID0gW107CiAgICB9CiAgICBzaG93QWN0aXZpdHkoYWN0aXZpdHkpIHsKICAgICAgICBsZXQgZXhpc3RpbmdBY3Rpdml0eSA9IGZhbHNlOwogICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmFjdGl2aXRpZXMubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2aXRpZXNbaW5kZXhdLnNlc3Npb25JZCA9PT0gYWN0aXZpdHkuc2Vzc2lvbklkKSB7CiAgICAgICAgICAgICAgICBleGlzdGluZ0FjdGl2aXR5ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGlmIChhY3Rpdml0eS5wYWdlID09PSAnbG9nb3V0JykgewogICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZpdGllcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpdml0aWVzW2luZGV4XSA9IGFjdGl2aXR5OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICghZXhpc3RpbmdBY3Rpdml0eSAmJiBhY3Rpdml0eS5wYWdlICE9PSAnbG9nb3V0JykgewogICAgICAgICAgICB0aGlzLmFjdGl2aXRpZXMucHVzaChhY3Rpdml0eSk7CiAgICAgICAgfQogICAgfQogICAgbmdPbkluaXQoKSB7CiAgICAgICAgdGhpcy50cmFja2VyU2VydmljZS5zdWJzY3JpYmUoKTsKICAgICAgICB0aGlzLnRyYWNrZXJTZXJ2aWNlLnJlY2VpdmUoKS5zdWJzY3JpYmUoYWN0aXZpdHkgPT4gewogICAgICAgICAgICB0aGlzLnNob3dBY3Rpdml0eShhY3Rpdml0eSk7CiAgICAgICAgfSk7CiAgICB9CiAgICBuZ09uRGVzdHJveSgpIHsKICAgICAgICB0aGlzLnRyYWNrZXJTZXJ2aWNlLnVuc3Vic2NyaWJlKCk7CiAgICB9Cn07CkpoaVRyYWNrZXJDb21wb25lbnQgPSB0c2xpYl8xLl9fZGVjb3JhdGUoWwogICAgQ29tcG9uZW50KHsKICAgICAgICBzZWxlY3RvcjogJ2poaS10cmFja2VyJywKICAgICAgICB0ZW1wbGF0ZVVybDogJy4vdHJhY2tlci5jb21wb25lbnQuaHRtbCcKICAgIH0pLAogICAgdHNsaWJfMS5fX21ldGFkYXRhKCJkZXNpZ246cGFyYW10eXBlcyIsIFt0eXBlb2YgKF9hID0gdHlwZW9mIEpoaVRyYWNrZXJTZXJ2aWNlICE9PSAidW5kZWZpbmVkIiAmJiBKaGlUcmFja2VyU2VydmljZSkgPT09ICJmdW5jdGlvbiIgPyBfYSA6IE9iamVjdF0pCl0sIEpoaVRyYWNrZXJDb21wb25lbnQpOwpleHBvcnQgeyBKaGlUcmFja2VyQ29tcG9uZW50IH07Cg=="},{"version":3,"file":"/Users/tamdx/github/medlatec/gateway/src/main/webapp/app/admin/tracker/tracker.component.ts","sourceRoot":"","sources":["/Users/tamdx/github/medlatec/gateway/node_modules/eslint-loader/dist/cjs.js!/Users/tamdx/github/medlatec/gateway/src/main/webapp/app/admin/tracker/tracker.component.ts"],"names":[],"mappings":";;AAAA,OAAO,EAAE,SAAS,EAAqB,MAAM,eAAe,CAAC;AAE7D,OAAO,EAAE,iBAAiB,EAAE,MAAM,kCAAkC,CAAC;AAMrE,IAAa,mBAAmB,GAAhC,MAAa,mBAAmB;IAG9B,YAAoB,cAAiC;QAAjC,mBAAc,GAAd,cAAc,CAAmB;QAFrD,eAAU,GAAU,EAAE,CAAC;IAEiC,CAAC;IAEzD,YAAY,CAAC,QAAa;QACxB,IAAI,gBAAgB,GAAG,KAAK,CAAC;QAC7B,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YAC3D,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,SAAS,KAAK,QAAQ,CAAC,SAAS,EAAE;gBAC3D,gBAAgB,GAAG,IAAI,CAAC;gBACxB,IAAI,QAAQ,CAAC,IAAI,KAAK,QAAQ,EAAE;oBAC9B,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;iBAClC;qBAAM;oBACL,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAC;iBACnC;aACF;SACF;QACD,IAAI,CAAC,gBAAgB,IAAI,QAAQ,CAAC,IAAI,KAAK,QAAQ,EAAE;YACnD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAChC;IACH,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC;QAChC,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;YACjD,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAC9B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;IACpC,CAAC;CACF,CAAA;AAhCY,mBAAmB;IAJ/B,SAAS,CAAC;QACT,QAAQ,EAAE,aAAa;QACvB,WAAW,EAAE,0BAA0B;KACxC,CAAC;iEAIoC,iBAAiB,oBAAjB,iBAAiB;GAH1C,mBAAmB,CAgC/B;SAhCY,mBAAmB","sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\n\nimport { JhiTrackerService } from 'app/core/tracker/tracker.service';\n\n@Component({\n  selector: 'jhi-tracker',\n  templateUrl: './tracker.component.html'\n})\nexport class JhiTrackerComponent implements OnInit, OnDestroy {\n  activities: any[] = [];\n\n  constructor(private trackerService: JhiTrackerService) {}\n\n  showActivity(activity: any) {\n    let existingActivity = false;\n    for (let index = 0; index < this.activities.length; index++) {\n      if (this.activities[index].sessionId === activity.sessionId) {\n        existingActivity = true;\n        if (activity.page === 'logout') {\n          this.activities.splice(index, 1);\n        } else {\n          this.activities[index] = activity;\n        }\n      }\n    }\n    if (!existingActivity && activity.page !== 'logout') {\n      this.activities.push(activity);\n    }\n  }\n\n  ngOnInit() {\n    this.trackerService.subscribe();\n    this.trackerService.receive().subscribe(activity => {\n      this.showActivity(activity);\n    });\n  }\n\n  ngOnDestroy() {\n    this.trackerService.unsubscribe();\n  }\n}\n"]}]}